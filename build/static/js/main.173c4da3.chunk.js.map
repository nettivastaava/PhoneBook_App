{"version":3,"sources":["components/Alert.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["Alert","message","match","className","Filter","props","value","filter","onChange","change","baseUrl","axios","get","newObject","post","id","delete","then","response","data","put","Phonebook","persons","person","name","toLowerCase","includes","map","personToShow","key","number","type","onClick","handleDelete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","Notification","setNotification","useEffect","personService","event","target","onSubmit","preventDefault","find","window","confirm","personId","returnedPerson","setTimeout","catch","error","console","log","personObject","length","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.173c4da3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Alert = ({message}) => {\n  if (message === '') {\n    return null\n  } else if (message.match('^Added')) {\n    return <div className='addNot'>{message}</div>\n  } else if (message.match('^Deleted')) {\n    return <div className='deleteNot'>{message}</div>\n  }  else if (message.match('^Updated')) {\n    return <div className='addNot'>{message}</div>\n  } else if (message.match('^Malformed')) {\n    return <div className='deleteNot'>{message}</div>\n  }\n}\n\n\nexport default Alert","import React from 'react'\n\nconst Filter = (props) => {\n    return(\n      <div>\n        <input value={props.filter} onChange={props.change}/>\n      </div>\n    )\n  }\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst removePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\nexport default {\n    getAll: getAll,\n    create: create,\n    removePerson: removePerson,\n    update: update\n}","import React, { useState, useEffect } from 'react'\nimport Alert from './components/Alert'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ Notification, setNotification] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {       \n        const personId = persons.find(person => person.name === newName).id\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n\n        personService\n          .update(personId, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== personId ? person : returnedPerson))\n            setNotification(`Updated ${newName}`)\n            setTimeout(() => {\n              setNotification('')\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error)  \n          })\n      }\n\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      } \n\n      if (personObject.name.length<3 || personObject.number.length<8) {\n        setNotification('Malformed input')\n          setTimeout(() => {\n            setNotification('')\n          }, 5000)\n      }\n\n\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setNotification(`Added ${newName}`)\n          setTimeout(() => {\n            setNotification('')\n          }, 5000)\n          .catch(error => {\n            console.log(error.response.data)\n          })\n      })\n\n  \n      \n  }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = (props) => {\n    if (window.confirm(`Delete ${props.name}?`)) {\n      setNotification(`Deleted ${props.name}`)\n      setTimeout(() => {\n        setNotification('')\n      }, 5000)\n      personService\n        .removePerson(props.id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== props.id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <Alert message={Notification}/>\n      <h2>Phonebook</h2>\n        <Filter filter={newFilter} change={handleFilterChange}/>\n      <h2>add a new</h2>\n      <form onSubmit={addPerson}> \n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      \n      <Phonebook persons={persons} filter={newFilter} handleDelete={handleDelete}/>\n      \n    </div>\n  )\n}\n\nconst Phonebook = (props) => {\n  return(\n    <table>\n      <tbody>\n        {props.persons.filter(person => person.name.toLowerCase().includes(props.filter.toLowerCase())).map(personToShow =>\n          <tr key={personToShow.id}>\n            <td>{personToShow.name}</td>\n            <td>{personToShow.number}</td>\n            <td><button type=\"button\" onClick={ () => props.handleDelete(personToShow)}>delete</button></td>\n          </tr>)}      \n      </tbody>\n    </table>\n  )\n}\n\n\n \nexport default App","\nimport ReactDOM from 'react-dom';\nimport React from 'react'\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}